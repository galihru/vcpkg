diff --git a/CMakeLists.txt b/CMakeLists.txt
index 0000000..1111111 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -1244,8 +1244,7 @@ if(USE_MIMALLOC)
   set(MI_BUILD_OBJECT OFF)
   set(MI_BUILD_TESTS OFF)
   add_definitions(-DUSE_MIMALLOC)
-  add_subdirectory(third_party/mimalloc)
-  include_directories(third_party/mimalloc/include)
+  find_package(mimalloc REQUIRED)
 endif()
 
 if(USE_MIMALLOC AND USE_MIMALLOC_ON_MKL)
diff --git a/c10/CMakeLists.txt b/c10/CMakeLists.txt
index 0000000..1111111 100644
--- a/c10/CMakeLists.txt
+++ b/c10/CMakeLists.txt
@@ -123,8 +123,7 @@ else()
   endif()
 
   if(USE_MIMALLOC)
-    target_link_libraries(c10 PRIVATE "mimalloc-static")
-    add_dependencies(c10 mimalloc-static)
+    target_link_libraries(c10 PRIVATE "mimalloc")
   endif()
 
   if(LINUX)
diff --git a/cmake/Dependencies.cmake b/cmake/Dependencies.cmake
index 0000000..1111111 100644
--- a/cmake/Dependencies.cmake
+++ b/cmake/Dependencies.cmake
@@ -381,8 +381,8 @@ if(INTERN_BUILD_MOBILE OR NOT DISABLE_NNPACK_AND_FAMILY)
   if(NOT TARGET pthreadpool)
     if(USE_SYSTEM_PTHREADPOOL)
-      add_library(pthreadpool SHARED IMPORTED)
-      find_library(PTHREADPOOL_LIBRARY pthreadpool)
+      add_library(pthreadpool UNKNOWN IMPORTED)
+      find_library(PTHREADPOOL_LIBRARY pthreadpool REQUIRED)
       set_property(TARGET pthreadpool PROPERTY IMPORTED_LOCATION "${PTHREADPOOL_LIBRARY}")
       if(NOT PTHREADPOOL_LIBRARY)
         message(FATAL_ERROR "Cannot find pthreadpool")
@@ -415,8 +415,9 @@ if(NOT CMAKE_SYSTEM_PROCESSOR MATCHES "^(s390x|ppc64le)$")
   # ---[ But it doesn't support s390x/powerpc and thus not used on s390x/powerpc
   if(NOT TARGET cpuinfo AND USE_SYSTEM_CPUINFO)
-    add_library(cpuinfo SHARED IMPORTED)
-    find_library(CPUINFO_LIBRARY cpuinfo)
+    add_library(cpuinfo UNKNOWN IMPORTED)
+    find_library(CPUINFO_LIBRARY NAMES cpuinfo REQUIRED)
+    find_library(CLOG_LIBRARY NAMES clog REQUIRED)
     if(NOT CPUINFO_LIBRARY)
       message(FATAL_ERROR "Cannot find cpuinfo")
     endif()
@@ -559,10 +560,10 @@ if(USE_XNNPACK AND NOT USE_SYSTEM_XNNPACK)
   list(APPEND Caffe2_DEPENDENCY_LIBS XNNPACK microkernels-prod)
 elseif(NOT TARGET XNNPACK AND USE_SYSTEM_XNNPACK)
-  add_library(XNNPACK SHARED IMPORTED)
-  add_library(microkernels-prod SHARED IMPORTED)
-  find_library(XNNPACK_LIBRARY XNNPACK)
-  find_library(microkernels-prod_LIBRARY microkernels-prod)
+  add_library(XNNPACK UNKNOWN IMPORTED)
+  add_library(microkernels-prod UNKNOWN IMPORTED)
+  find_library(XNNPACK_LIBRARY NAMES XNNPACK REQUIRED)
+  find_library(microkernels-prod_LIBRARY NAMES microkernels-prod REQUIRED)
   set_property(TARGET XNNPACK PROPERTY IMPORTED_LOCATION "${XNNPACK_LIBRARY}")
   set_property(TARGET microkernels-prod PROPERTY IMPORTED_LOCATION "${microkernels-prod_LIBRARY}")
   if(NOT XNNPACK_LIBRARY)